<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>404 Not Found</title>
  <script>
    (function() {
      const path = window.location.pathname; // 获取当前路径，如 "/test/nonexistent-page"

      // 提取第一个子目录（如 "/test" → "test"）
      const subdir = path.split('/')[2];

      // 如果路径包含子目录，且该子目录存在 404 页面，则重定向
      if (subdir) {
        const custom404Url = `/slides/${subdir}/404.html`;

        // 检查目标 404 页面是否存在（避免无限重定向）
        fetch(custom404Url, { method: 'HEAD' })
          .then(res => {
            if (res.ok) window.location.href = custom404Url;
          })
          .catch(() => {
            console.log("No custom 404 page for this subdirectory.");
          });
      }
    })();
  </script>
</head>
<body>
  <!-- 默认的全局 404 内容 -->
  <h1>404 Not Found</h1>
  <p>This page doesn't exist. Redirecting to the appropriate error page...</p>
</body>
</html>